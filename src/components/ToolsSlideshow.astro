---
import { Icon } from 'astro-icon/components'
import type { Tool } from '@/types'

interface Props {
	tools: Tool[]
}

const { tools } = Astro.props
// Double the array for seamless loop
const slideItems = [...tools, ...tools]
---

<div
	class='mt-8 w-full overflow-hidden border-y border-gray-200 bg-gradient-to-r from-gray-50/50 via-white/50 to-gray-50/50 backdrop-blur-sm dark:border-gray-700 dark:from-gray-900/50 dark:via-gray-800/50 dark:to-gray-900/50'
>
	<div class='animate-marquee flex'>
		{
			slideItems.map((tool) => (
				<div class='flex min-w-fit items-center space-x-3 px-8 py-4'>
					<Icon name={tool.iconName} class='h-6 w-6' />
					<span class='whitespace-nowrap font-mono text-sm text-gray-600 dark:text-gray-300'>
						{tool.name}
					</span>
				</div>
			))
		}
	</div>
</div>

<style>
	@keyframes marquee {
		0% {
			transform: translateX(0);
		}
		100% {
			transform: translateX(-50%);
		}
	}

	.animate-marquee {
		animation: marquee 30s linear infinite;
	}
</style>

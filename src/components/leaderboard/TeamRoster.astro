---
// src/leaderboard/components/TeamRoster.astro
---

<section class='max-w-4xl px-4 py-16 mx-auto'>
	<h2 class='mb-8 text-4xl font-bold text-center'>Team Rosters</h2>
	<div class='flex justify-center px-4 my-8 lg:px-0'>
		<img
			class='w-full max-w-3xl rounded-md shadow-md'
			src='https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExZWgwZWw3anIwaW5tNmU2azAzNWpsbjZtc29rdDA4YnMxd2FrY2tudiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/HBbA0gf8uemuQ/giphy.gif'
			alt='drunk group dance'
		/>
	</div>
	<div id='team-roster' class='flex flex-col gap-6 text-white'></div>

	<script is:inline type='module'>
		const container = document.getElementById('team-roster')

		const res = await fetch(
			'https://script.google.com/macros/s/AKfycbx5dfoJhQTjR2QdsraYKbt2nkAqsy9702douB08uyliGH8YaVHCOWL1q7eKLXkxf8efkA/exec'
		)
		const teams = await res.json()

		const html = teams
			.map(
				(team) => `
			<div class="p-6 text-center bg-gray-800 border border-gray-700 shadow rounded-xl hover:shadow-lg">
				<h3 class="mb-4 text-xl font-semibold">${team.team}</h3>
				<div class="grid grid-cols-2 text-lg font-bold text-gray-300 place-items-center gap-y-2">
					${team.members.map((member) => `<div>${member}</div>`).join('')}
				</div>
			</div>
		`
			)
			.join('')

		container.innerHTML = html
	</script>
</section>
